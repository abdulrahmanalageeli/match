import React, { useState, useMemo } from 'react';
import { Button } from '../../components/ui/button';
import { Textarea } from '../../components/ui/textarea';
import { Checkbox } from '../../components/ui/checkbox';
import { Check, Copy, MessageSquare, X, Clock, Info, HelpCircle } from 'lucide-react';

interface WhatsappMessageModalProps {
  participant: any;
  isOpen: boolean;
  onClose: () => void;
}

export default function WhatsappMessageModal({ participant, isOpen, onClose }: WhatsappMessageModalProps) {
  const [copied, setCopied] = useState(false);
  const [phoneCopied, setPhoneCopied] = useState(false);
  const [isUrgent, setIsUrgent] = useState(false);
  const [templateType, setTemplateType] = useState<'match' | 'event-info' | 'faq-payment' | 'faq-location' | 'faq-timing' | 'reminder' | 'payment-reminder'>('match');

  const message = useMemo(() => {
    if (!participant) return "";

    const name = participant.name || participant.survey_data?.name || `Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ #${participant.assigned_number}`;
    const assignedNumber = participant.assigned_number;
    const secureToken = participant.secure_token;

    // Generate message based on template type
    switch (templateType) {
      case 'match':
        if (isUrgent) {
          // Urgent match message with 1-hour deadline
          return `ğŸš¨ *Ø¹Ø§Ø¬Ù„ - Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰* ğŸš¨\n\nØ§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… *${name}*ØŒ\n\nğŸ”¥ *Ø¹Ø§Ø¬Ù„ Ø¬Ø¯Ø§Ù‹:* ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø´Ø±ÙŠÙƒ Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ÙƒÙ…!\n\nâ° *Ù…Ù‡Ù… Ù„Ù„ØºØ§ÙŠØ©: ÙŠØ¬Ø¨ Ø§Ù„Ø±Ø¯ Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·!*\nâš¡ *Ø¥Ø°Ø§ Ù„Ù… ØªØ±Ø¯ÙˆØ§ Ø®Ù„Ø§Ù„ 60 Ø¯Ù‚ÙŠÙ‚Ø©ØŒ Ø³ÙŠØªÙ… Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„ÙØ±ØµØ© Ù„Ù…Ø´Ø§Ø±Ùƒ Ø¢Ø®Ø± ÙÙˆØ±Ø§Ù‹*\n\nğŸš¨ *ØªØ­Ø°ÙŠØ± Ø´Ø¯ÙŠØ¯:* Ù‡Ø°Ù‡ ÙØ±ØµØ© Ù…Ø­Ø¯ÙˆØ¯Ø© Ø¬Ø¯Ø§Ù‹ ÙˆÙ„Ù† ØªØªÙƒØ±Ø±!\nğŸ’³ Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©: 45 Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ\n\nâš ï¸ *Ø¥Ø¬Ø±Ø§Ø¡ ÙÙˆØ±ÙŠ Ù…Ø·Ù„ÙˆØ¨:*\n1ï¸âƒ£ Ø§Ø­ÙˆÙ„ÙˆØ§ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¢Ù† ÙÙˆØ±Ø§Ù‹\n2ï¸âƒ£ Ø§Ø±Ø³Ù„ÙˆØ§ ØµÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØµØ§Ù„ Ø®Ù„Ø§Ù„ Ø¯Ù‚Ø§Ø¦Ù‚\n3ï¸âƒ£ Ø£ÙƒØ¯ÙˆØ§ Ø­Ø¶ÙˆØ±ÙƒÙ… Ø®Ù„Ø§Ù„ Ø§Ù„Ø³Ø§Ø¹Ø©\n\n*Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø³Ø±ÙŠØ¹Ø©:*\nâ€¢ STC Pay: 0560899666\nâ€¢ Ù…ØµØ±Ù Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ: Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù…Ù„Ùƒ\nâ€¢ IBAN:\nSA2480000588608016007502\n\nğŸ”¥ *Ù„Ø§ ØªÙÙˆØªÙˆØ§ Ù‡Ø°Ù‡ Ø§Ù„ÙØ±ØµØ© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©!*\nØ´Ø±ÙŠÙƒÙƒÙ… Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚ ÙŠÙ†ØªØ¸Ø± ØªØ£ÙƒÙŠØ¯ÙƒÙ… Ø§Ù„Ø¢Ù†!\n\nğŸ“ *ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©:*\nØ§Ù„Ù…ÙƒØ§Ù†: ÙƒÙˆÙÙŠ Ø¨Ù„Ø§Ù†ÙŠØª - Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠ\nØ§Ù„Ø¹Ù†ÙˆØ§Ù†: https://maps.app.goo.gl/CYsyK9M5mxXMNo9YA\n\nğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: Ø§Ù„Ø®Ù…ÙŠØ³ 16 Ø£ÙƒØªÙˆØ¨Ø± 2025\nğŸ•°ï¸ Ø§Ù„ÙˆÙ‚Øª: 8:30 Ù…Ø³Ø§Ø¡Ù‹\nâ±ï¸ Ø§Ù„Ù…Ø¯Ø©: 60 Ø¯Ù‚ÙŠÙ‚Ø©\n\n*ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø­Ø¶ÙˆØ± Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø¨Ù€ 10 Ø¯Ù‚Ø§Ø¦Ù‚*\n\nÙ…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒÙ… Ù„Ù„ÙØ¹Ø§Ù„ÙŠØ©:\nØ±Ù‚Ù… Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ: *${assignedNumber}*\nØ§Ù„Ø±Ù…Ø² Ø§Ù„Ø®Ø§Øµ: *${secureToken}*\n\nğŸ”— Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±:\nhttps://match-omega.vercel.app/welcome?token=${secureToken}\n\nâ° *ØªØ°ÙƒÙŠØ± Ø£Ø®ÙŠØ±: Ù„Ø¯ÙŠÙƒÙ… Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· Ù„Ù„Ø±Ø¯!*\n\nÙØ±ÙŠÙ‚ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰`;
        } else {
          // Regular match message with 24-hour deadline
          return `*Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰* âœ¨\n\nØ§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… *${name}*ØŒ\n\nÙ†Ø³Ø¹Ø¯ Ø¨Ø¥Ø¨Ù„Ø§ØºÙƒÙ… Ø£Ù†Ù‡ ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø´Ø±ÙŠÙƒ Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ÙƒÙ… Ù…Ù† Ø¨ÙŠÙ† Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†.\n\nâ° *ÙŠØ±Ø¬Ù‰ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©*\nğŸ’³ Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©: 45 Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ\n\nâš ï¸ *Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©:* Ù„ØªØ£ÙƒÙŠØ¯ Ø­Ø¶ÙˆØ±ÙƒÙ…ØŒ ÙŠØ¬Ø¨ Ø¥ØªÙ…Ø§Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙˆØ¥Ø±Ø³Ø§Ù„ ØµÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØµØ§Ù„. ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø®Ù„Ø§Ù„ Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©ØŒ Ø³ÙŠØªÙ… Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„ÙØ±ØµØ© Ù„Ù…Ø´Ø§Ø±Ùƒ Ø¢Ø®Ø±.\n\n*Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹:*\nâ€¢ STC Pay: 0560899666\nâ€¢ Ù…ØµØ±Ù Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ: Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù…Ù„Ùƒ\nâ€¢ IBAN:\nSA2480000588608016007502\n\nØ¨Ø¹Ø¯ Ø¥ØªÙ…Ø§Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ØŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø±Ø³Ø§Ù„ ØµÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØµØ§Ù„ ÙÙˆØ±Ø§Ù‹ Ù„ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø²ÙƒÙ….\n\n*ØªÙ†Ø¨ÙŠÙ‡:* ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø«Ù… Ø¹Ø¯Ù… Ø§Ù„Ø­Ø¶ÙˆØ± Ø£Ùˆ Ø§Ù„Ø¥Ù„ØºØ§Ø¡ØŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø³ÙˆÙ….\n\nğŸ“ *ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©:*\nØ§Ù„Ù…ÙƒØ§Ù†: ÙƒÙˆÙÙŠ Ø¨Ù„Ø§Ù†ÙŠØª - Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠ\nØ§Ù„Ø¹Ù†ÙˆØ§Ù†: https://maps.app.goo.gl/CYsyK9M5mxXMNo9YA\n\nğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: Ø§Ù„Ø®Ù…ÙŠØ³ 16 Ø£ÙƒØªÙˆØ¨Ø± 2025\nğŸ•°ï¸ Ø§Ù„ÙˆÙ‚Øª: 8:30 Ù…Ø³Ø§Ø¡Ù‹\nâ±ï¸ Ø§Ù„Ù…Ø¯Ø©: 60 Ø¯Ù‚ÙŠÙ‚Ø©\n\n*ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø­Ø¶ÙˆØ± Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø¨Ù€ 10 Ø¯Ù‚Ø§Ø¦Ù‚*\n\nÙ…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒÙ… Ù„Ù„ÙØ¹Ø§Ù„ÙŠØ©:\nØ±Ù‚Ù… Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ: *${assignedNumber}*\nØ§Ù„Ø±Ù…Ø² Ø§Ù„Ø®Ø§Øµ: *${secureToken}*\n\nğŸ”— Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±:\nhttps://match-omega.vercel.app/welcome?token=${secureToken}\n\nÙ†ØªØ·Ù„Ø¹ Ù„Ø­Ø¶ÙˆØ±ÙƒÙ… ÙˆØªÙ…Ù†Ù‰ Ù„ÙƒÙ… ØªØ¬Ø±Ø¨Ø© Ù…Ù…ØªØ¹Ø©.\n\nÙØ±ÙŠÙ‚ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰`;
        }

      case 'event-info':
        return `*Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰* ğŸ“‹\n\nØ§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… *${name}*ØŒ\n\nğŸ¯ *Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰ØŸ*\n\nÙ‡Ùˆ ÙØ¹Ø§Ù„ÙŠØ© Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© Ù…Ø¨ØªÙƒØ±Ø© ØªÙ‡Ø¯Ù Ø¥Ù„Ù‰ Ø±Ø¨Ø· Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚ÙŠÙ† Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©ØŒ ÙˆÙ„ÙŠØ³ Ø§Ù„Ù…Ø¸Ù‡Ø± Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ ÙÙ‚Ø·.\n\nâœ¨ *ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ*\nâ€¢ ØªÙ…Ù„Ø£ Ø§Ø³ØªØ¨ÙŠØ§Ù† Ø´Ø®ØµÙŠ Ù…ÙØµÙ„\nâ€¢ Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ ÙŠØ­Ù„Ù„ Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ\nâ€¢ Ù†Ø¬Ø¯ Ù„Ùƒ Ø§Ù„Ø´Ø±ÙŠÙƒ Ø§Ù„Ø£ÙƒØ«Ø± ØªÙˆØ§ÙÙ‚Ø§Ù‹ Ù…Ø¹Ùƒ\nâ€¢ ØªÙ„ØªÙ‚ÙŠØ§Ù† ÙÙŠ Ø¨ÙŠØ¦Ø© Ù…Ø±ÙŠØ­Ø© ÙˆÙ…Ù†Ø¸Ù…Ø©\n\nğŸª *Ù…Ø§ ÙŠÙ…ÙŠØ² ÙØ¹Ø§Ù„ÙŠØªÙ†Ø§:*\nâ€¢ ØªØ­Ù„ÙŠÙ„ Ø¹Ù„Ù…ÙŠ Ù„Ù„Ø´Ø®ØµÙŠØ© (MBTI)\nâ€¢ Ø£Ø³Ø¦Ù„Ø© Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¯Ø±ÙˆØ³Ø©\nâ€¢ Ø¨ÙŠØ¦Ø© Ø¢Ù…Ù†Ø© ÙˆÙ…Ø­ØªØ±Ù…Ø©\nâ€¢ Ù…Ø¯Ø© Ù…Ø­Ø¯Ø¯Ø© Ù„ÙƒÙ„ Ø¬ÙˆÙ„Ø©\nâ€¢ Ø£Ù†Ø´Ø·Ø© Ø¬Ù…Ø§Ø¹ÙŠØ© Ù…Ù…ØªØ¹Ø©\n\nâ±ï¸ *Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©:*\nâ€¢ Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ ÙˆØ§Ù„ØªØ±Ø­ÙŠØ¨ (10 Ø¯Ù‚Ø§Ø¦Ù‚)\nâ€¢ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (7 Ø¯Ù‚Ø§Ø¦Ù‚)\nâ€¢ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (7 Ø¯Ù‚Ø§Ø¦Ù‚)\nâ€¢ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø§Øª (5 Ø¯Ù‚Ø§Ø¦Ù‚)\nâ€¢ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© (30 Ø¯Ù‚ÙŠÙ‚Ø©)\nâ€¢ Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (5 Ø¯Ù‚Ø§Ø¦Ù‚)\n\nğŸ“ *ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©:*\nØ§Ù„Ù…ÙƒØ§Ù†: ÙƒÙˆÙÙŠ Ø¨Ù„Ø§Ù†ÙŠØª - Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠ\nØ§Ù„Ø¹Ù†ÙˆØ§Ù†: https://maps.app.goo.gl/CYsyK9M5mxXMNo9YA\nğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: Ø§Ù„Ø®Ù…ÙŠØ³ 16 Ø£ÙƒØªÙˆØ¨Ø± 2025\nğŸ•°ï¸ Ø§Ù„ÙˆÙ‚Øª: 8:30 Ù…Ø³Ø§Ø¡Ù‹\nâ±ï¸ Ø§Ù„Ù…Ø¯Ø©: 60 Ø¯Ù‚ÙŠÙ‚Ø©\n\nğŸ”— Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ³Ø¬ÙŠÙ„:\nhttps://match-omega.vercel.app/welcome?token=${secureToken}\n\nÙ†ØªØ·Ù„Ø¹ Ù„Ù…Ø´Ø§Ø±ÙƒØªÙƒÙ… ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„ÙØ±ÙŠØ¯Ø©!\n\nÙØ±ÙŠÙ‚ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰`;

      case 'faq-payment':
        return `*Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰* ğŸ’³\n\nØ§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… *${name}*ØŒ\n\nğŸ’° *Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© - Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø±Ø³ÙˆÙ…*\n\nâ“ *ÙƒÙ… Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©ØŸ*\nğŸ’³ 45 Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ ÙÙ‚Ø·\n\nâ“ *Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ØªØ§Ø­Ø©ØŸ*\nâ€¢ STC Pay: 0560899666\nâ€¢ Ù…ØµØ±Ù Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ: Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù…Ù„Ùƒ\nâ€¢ IBAN: SA2480000588608016007502\n\nâ“ *Ù…ØªÙ‰ ÙŠØ¬Ø¨ Ø§Ù„Ø¯ÙØ¹ØŸ*\nâ° Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø© Ù…Ù† ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©\nâš¡ Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©: Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø©\n\nâ“ *Ù…Ø§Ø°Ø§ Ù„Ùˆ Ù„Ù… Ø£Ø¯ÙØ¹ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯ØŸ*\nâš ï¸ Ø³ÙŠØªÙ… Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„ÙØ±ØµØ© Ù„Ù…Ø´Ø§Ø±Ùƒ Ø¢Ø®Ø±\nğŸš« Ù„Ù† ØªØªÙ…ÙƒÙ† Ù…Ù† Ø­Ø¶ÙˆØ± Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©\n\nâ“ *Ù‡Ù„ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø³ÙˆÙ…ØŸ*\nâœ… Ù†Ø¹Ù…ØŒ ÙÙŠ Ø­Ø§Ù„Ø© Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Ù…Ù† Ø·Ø±ÙÙ†Ø§\nâŒ Ù„Ø§ØŒ ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… Ø§Ù„Ø­Ø¶ÙˆØ± Ø£Ùˆ Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ù…Ù† Ø·Ø±ÙÙƒ\n\nâ“ *Ù…Ø§Ø°Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹ØŸ*\nğŸ“¸ Ø£Ø±Ø³Ù„ ØµÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØµØ§Ù„ ÙÙˆØ±Ø§Ù‹\nâœ… Ø³Ù†Ø¤ÙƒØ¯ Ø­Ø¬Ø²Ùƒ Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹Ø§Øª Ù‚Ù„ÙŠÙ„Ø©\nğŸ“§ Ø³ØªØµÙ„Ùƒ ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©\n\nâ“ *Ù‡Ù„ Ø§Ù„Ø¯ÙØ¹ Ø¢Ù…Ù†ØŸ*\nğŸ”’ Ø¬Ù…ÙŠØ¹ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø¢Ù…Ù†Ø© ÙˆÙ…Ø¶Ù…ÙˆÙ†Ø©\nğŸ¦ Ø­Ø³Ø§Ø¨Ø§Øª Ø¨Ù†ÙƒÙŠØ© Ø±Ø³Ù…ÙŠØ© Ù…Ø³Ø¬Ù„Ø©\nğŸ“± STC Pay Ù…Ø¹ØªÙ…Ø¯ Ø±Ø³Ù…ÙŠØ§Ù‹\n\nâ“ *Ù…Ø§Ø°Ø§ Ù„Ùˆ ÙˆØ§Ø¬Ù‡Øª Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø¯ÙØ¹ØŸ*\nğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ ÙÙˆØ±Ø§Ù‹ Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨\nğŸ• Ù†Ø­Ù† Ù…ØªØ§Ø­ÙˆÙ† Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© 24/7\n\nØ±Ù‚Ù… Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ: *${assignedNumber}*\n\nğŸ”— Ø±Ø§Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ:\nhttps://match-omega.vercel.app/welcome?token=${secureToken}\n\nÙØ±ÙŠÙ‚ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰`;

      case 'faq-location':
        return `*Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰* ğŸ“\n\nØ§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… *${name}*ØŒ\n\nğŸ—ºï¸ *Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© - Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„ÙˆØµÙˆÙ„*\n\nâ“ *Ø£ÙŠÙ† ØªÙ‚Ø§Ù… Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©ØŸ*\nğŸ“ ÙƒÙˆÙÙŠ Ø¨Ù„Ø§Ù†ÙŠØª - Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠ\nğŸ¢ Ù…ÙˆÙ„ Ø£Ùˆ Ù…Ø¬Ù…Ø¹ ØªØ¬Ø§Ø±ÙŠ (ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø®Ø±ÙŠØ·Ø©)\n\nâ“ *ÙƒÙŠÙ Ø£ØµÙ„ Ù„Ù„Ù…ÙƒØ§Ù†ØŸ*\nğŸ—ºï¸ Ø®Ø±ÙŠØ·Ø© Ø¬ÙˆØ¬Ù„: https://maps.app.goo.gl/CYsyK9M5mxXMNo9YA\nğŸš— ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ø¨Ø§Ù„Ø³ÙŠØ§Ø±Ø© Ø£Ùˆ Ø§Ù„ØªØ§ÙƒØ³ÙŠ\nğŸ…¿ï¸ Ù…ÙˆØ§Ù‚Ù Ø³ÙŠØ§Ø±Ø§Øª Ù…ØªØ§Ø­Ø©\n\nâ“ *ÙÙŠ Ø£ÙŠ Ø¯ÙˆØ±ØŸ*\nâ¬†ï¸ Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠ\nğŸ›— ÙŠÙˆØ¬Ø¯ Ù…ØµØ¹Ø¯ ÙˆØ¯Ø±Ø¬\nğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ù„Ø§ÙØªØ© "Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰"\n\nâ“ *Ù…ØªÙ‰ ÙŠØ¬Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ØŸ*\nâ° Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø¨Ù€ 10 Ø¯Ù‚Ø§Ø¦Ù‚\nğŸ“… Ø§Ù„Ø®Ù…ÙŠØ³ 16 Ø£ÙƒØªÙˆØ¨Ø± 2025\nğŸ•°ï¸ Ø§Ù„Ø³Ø§Ø¹Ø© 8:20 Ù…Ø³Ø§Ø¡Ù‹ (Ù„Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„)\nğŸ¯ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©: 8:30 Ù…Ø³Ø§Ø¡Ù‹\n\nâ“ *Ù…Ø§Ø°Ø§ Ù„Ùˆ ØªØ£Ø®Ø±ØªØŸ*\nâš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯\nğŸ“ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ ÙÙˆØ±Ø§Ù‹\nğŸš« Ø§Ù„ØªØ£Ø®ÙŠØ± Ù‚Ø¯ ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ Ù…Ø´Ø§Ø±ÙƒØªÙƒ\n\nâ“ *ÙƒÙŠÙ Ø£Ø¹Ø±Ù Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„ØµØ­ÙŠØ­ØŸ*\nğŸ·ï¸ Ø§Ø¨Ø­Ø« Ø¹Ù† Ù„Ø§ÙØªØ© "Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰"\nğŸ‘¥ Ø³ØªØ¬Ø¯ ÙØ±ÙŠÙ‚ Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„\nğŸ“± Ø£Ùˆ Ø§ØªØµÙ„ Ø¨Ù†Ø§ Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„\n\nâ“ *Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ù…ÙˆØ§Ù‚Ù Ø³ÙŠØ§Ø±Ø§ØªØŸ*\nğŸ…¿ï¸ Ù†Ø¹Ù…ØŒ Ù…ÙˆØ§Ù‚Ù Ù…Ø¬Ø§Ù†ÙŠØ© Ù…ØªØ§Ø­Ø©\nğŸš— Ù…Ø³Ø§Ø­Ø© ÙƒØ§ÙÙŠØ© Ù„Ù„Ø¬Ù…ÙŠØ¹\nğŸ”’ Ù…ÙˆØ§Ù‚Ù Ø¢Ù…Ù†Ø© ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø©\n\nâ“ *Ù…Ø§Ø°Ø§ Ù„Ùˆ Ù„Ù… Ø£Ø¬Ø¯ Ø§Ù„Ù…ÙƒØ§Ù†ØŸ*\nğŸ“ Ø§ØªØµÙ„ Ø¨Ù†Ø§ ÙÙˆØ±Ø§Ù‹\nğŸ“ Ø³Ù†Ø±Ø³Ù„ Ù„Ùƒ Ù…ÙˆÙ‚Ø¹Ù†Ø§ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\nğŸ‘¨â€ğŸ’¼ Ø£Ùˆ Ø³Ù†Ø±Ø³Ù„ Ø´Ø®Øµ Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„Ùƒ\n\nØ±Ù‚Ù… Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ: *${assignedNumber}*\n\nğŸ”— Ø±Ø§Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ:\nhttps://match-omega.vercel.app/welcome?token=${secureToken}\n\nÙØ±ÙŠÙ‚ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰`;

      case 'faq-timing':
        return `*Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰* â°\n\nØ§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… *${name}*ØŒ\n\nğŸ• *Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© - Ø§Ù„ØªÙˆÙ‚ÙŠØª ÙˆØ§Ù„Ø¬Ø¯ÙˆÙ„*\n\nâ“ *Ù…ØªÙ‰ ØªØ¨Ø¯Ø£ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©ØŸ*\nğŸ“… Ø§Ù„Ø®Ù…ÙŠØ³ 16 Ø£ÙƒØªÙˆØ¨Ø± 2025\nğŸ•°ï¸ Ø§Ù„Ø³Ø§Ø¹Ø© 8:30 Ù…Ø³Ø§Ø¡Ù‹ Ø¨Ø§Ù„Ø¶Ø¨Ø·\nâ° ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø­Ø¶ÙˆØ± 8:20 Ù…Ø³Ø§Ø¡Ù‹\n\nâ“ *ÙƒÙ… ØªØ³ØªØºØ±Ù‚ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©ØŸ*\nâ±ï¸ 60 Ø¯Ù‚ÙŠÙ‚Ø© Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©\nğŸ“Š Ù…Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ Ø¹Ø¯Ø© Ù…Ø±Ø§Ø­Ù„\n\nâ“ *Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØŸ*\nğŸª Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ ÙˆØ§Ù„ØªØ±Ø­ÙŠØ¨ (10 Ø¯Ù‚Ø§Ø¦Ù‚)\nğŸ’¬ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (7 Ø¯Ù‚Ø§Ø¦Ù‚)\nğŸ”„ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø·Ø§ÙˆÙ„Ø§Øª (3 Ø¯Ù‚Ø§Ø¦Ù‚)\nğŸ’¬ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (7 Ø¯Ù‚Ø§Ø¦Ù‚)\nğŸ“ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø§Øª (5 Ø¯Ù‚Ø§Ø¦Ù‚)\nğŸ® Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© (30 Ø¯Ù‚Ø§Ø¦Ù‚)\nğŸ‰ Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (5 Ø¯Ù‚Ø§Ø¦Ù‚)\n\nâ“ *Ù…Ø§Ø°Ø§ Ù„Ùˆ ØªØ£Ø®Ø±ØªØŸ*\nâš ï¸ Ø§Ù„ØªØ£Ø®ÙŠØ± ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ ØªØ¬Ø±Ø¨ØªÙƒ\nğŸš« Ù‚Ø¯ ØªÙÙˆØª Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰\nğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ ÙÙˆØ±Ø§Ù‹ Ø¥Ø°Ø§ ØªØ£Ø®Ø±Øª\n\nâ“ *Ù‡Ù„ ÙŠÙ…ÙƒÙ† Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø© Ù…Ø¨ÙƒØ±Ø§Ù‹ØŸ*\nğŸšª Ù†Ø¹Ù…ØŒ Ù„ÙƒÙ† Ù„Ù† ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù†ØªØ§Ø¦Ø¬\nâ­ Ù†Ù†ØµØ­ Ø¨Ø§Ù„Ø¨Ù‚Ø§Ø¡ Ù„Ù„Ù†Ù‡Ø§ÙŠØ©\nğŸ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© Ù…Ù…ØªØ¹Ø© Ø¬Ø¯Ø§Ù‹\n\nâ“ *Ù…ØªÙ‰ ØªØ¸Ù‡Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬ØŸ*\nğŸ“Š ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© (Ø¢Ø®Ø± 5 Ø¯Ù‚Ø§Ø¦Ù‚)\nğŸ“± Ø£Ùˆ Ø¹Ø¨Ø± Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù„Ø§Ø­Ù‚Ø§Ù‹\nâœ¨ Ø³ØªØ¹Ø±Ù Ù…Ù† Ø§Ø®ØªØ§Ø±Ùƒ Ø£ÙŠØ¶Ø§Ù‹\n\nâ“ *Ù…Ø§Ø°Ø§ Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©ØŸ*\nğŸ“ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ù…Ù† ØªÙˆØ§ÙÙ‚Øª Ù…Ø¹Ù‡Ù…\nğŸ“± Ø¹Ø¨Ø± Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙŠ Ø³ØªØ­ØµÙ„ Ø¹Ù„ÙŠÙ‡Ø§\nğŸ¤ Ø£Ùˆ ØªØ±ØªÙŠØ¨ Ù„Ù‚Ø§Ø¡ Ø¢Ø®Ø±\n\nâ“ *Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ±Ø§Ø­Ø©ØŸ*\nâ˜• Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ù…ØªØ§Ø­Ø© Ø·ÙˆØ§Ù„ Ø§Ù„ÙˆÙ‚Øª\nğŸª ÙˆØ¬Ø¨Ø§Øª Ø®ÙÙŠÙØ© Ù…Ø¬Ø§Ù†ÙŠØ©\nğŸš» Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…ÙŠØ§Ù‡ Ù…ØªØ§Ø­Ø©\n\nØ±Ù‚Ù… Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ: *${assignedNumber}*\n\nğŸ”— Ø±Ø§Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ:\nhttps://match-omega.vercel.app/welcome?token=${secureToken}\n\nÙØ±ÙŠÙ‚ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰`;

      case 'reminder':
        return `*Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰* ğŸ””\n\nØ§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… *${name}*ØŒ\n\nâ° *ØªØ°ÙƒÙŠØ± Ù…Ù‡Ù… Ø¨Ù…ÙˆØ¹Ø¯ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©*\n\nğŸ—“ï¸ *ØºØ¯Ø§Ù‹ Ø§Ù„Ø®Ù…ÙŠØ³ 16 Ø£ÙƒØªÙˆØ¨Ø± 2025*\nğŸ•°ï¸ *Ø§Ù„Ø³Ø§Ø¹Ø© 8:30 Ù…Ø³Ø§Ø¡Ù‹*\nğŸ“ *ÙƒÙˆÙÙŠ Ø¨Ù„Ø§Ù†ÙŠØª - Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠ*\n\nâœ… *ØªØ£ÙƒØ¯ Ù…Ù†:*\nâ€¢ ÙˆØµÙˆÙ„Ùƒ Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø¨Ù€ 10 Ø¯Ù‚Ø§Ø¦Ù‚\nâ€¢ Ø¥Ø­Ø¶Ø§Ø± Ù‡Ø§ØªÙÙƒ Ø§Ù„Ù…Ø­Ù…ÙˆÙ„\nâ€¢ Ø§Ø±ØªØ¯Ø§Ø¡ Ù…Ù„Ø§Ø¨Ø³ Ù…Ø±ÙŠØ­Ø© ÙˆØ£Ù†ÙŠÙ‚Ø©\nâ€¢ Ø¥Ø­Ø¶Ø§Ø± Ù‡ÙˆÙŠØ© Ø´Ø®ØµÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\n\nğŸ“± *Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ù„Ù„ÙØ¹Ø§Ù„ÙŠØ©:*\nØ±Ù‚Ù… Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ: *${assignedNumber}*\nØ§Ù„Ø±Ù…Ø² Ø§Ù„Ø®Ø§Øµ: *${secureToken}*\n\nğŸ—ºï¸ *Ø§Ù„Ù…ÙˆÙ‚Ø¹:*\nhttps://maps.app.goo.gl/CYsyK9M5mxXMNo9YA\n\nğŸ”— *Ø±Ø§Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ:*\nhttps://match-omega.vercel.app/welcome?token=${secureToken}\n\nğŸ’¡ *Ù†ØµØ§Ø¦Ø­ Ù„Ù„ÙØ¹Ø§Ù„ÙŠØ©:*\nâ€¢ ÙƒÙ† Ø·Ø¨ÙŠØ¹ÙŠØ§Ù‹ ÙˆÙ…Ø³ØªØ±Ø®ÙŠØ§Ù‹\nâ€¢ Ø§Ø³ØªÙ…Ø¹ Ø¬ÙŠØ¯Ø§Ù‹ Ù„Ø´Ø±ÙŠÙƒÙƒ\nâ€¢ Ø§Ø·Ø±Ø­ Ø£Ø³Ø¦Ù„Ø© Ù…Ø«ÙŠØ±Ø© Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù…\nâ€¢ Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„ØªØ¬Ø±Ø¨Ø©\n\nâ“ *Ø£Ø³Ø¦Ù„Ø© Ø£Ùˆ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªØŸ*\nğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨\nâš¡ Ù†Ø­Ù† Ù…ØªØ§Ø­ÙˆÙ† Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©\n\nğŸ‰ *Ù†ØªØ·Ù„Ø¹ Ù„Ø±Ø¤ÙŠØªÙƒ ØºØ¯Ø§Ù‹!*\n\nÙØ±ÙŠÙ‚ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰`;

      case 'payment-reminder':
        return `*Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰* ğŸ’³\n\nØ§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… *${name}*ØŒ\n\nâš ï¸ *ØªØ°ÙƒÙŠØ± Ù…Ù‡Ù… - Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨*\n\nğŸ”´ *Ù„Ù… Ù†Ø³ØªÙ„Ù… ØªØ­ÙˆÙŠÙ„ÙƒÙ… Ø¨Ø¹Ø¯!*\n\nÙ†Ø°ÙƒØ±ÙƒÙ… Ø¨Ø£Ù†Ù‡ ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø´Ø±ÙŠÙƒ Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ÙƒÙ…ØŒ ÙˆÙ„ÙƒÙ† Ù„Ù… ÙŠØªÙ… Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.\n\nâ° *Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹:* ÙŠØ±Ø¬Ù‰ Ø¥ØªÙ…Ø§Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ† Ù„ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø²ÙƒÙ….\n\nğŸ’³ *Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©:* 45 Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ\n\nâš ï¸ *ØªØ­Ø°ÙŠØ±:* ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù‚Ø±ÙŠØ¨Ø§Ù‹ØŒ Ø³ÙŠØªÙ… Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„ÙØ±ØµØ© Ù„Ù…Ø´Ø§Ø±Ùƒ Ø¢Ø®Ø±.\n\nğŸš¨ *Ù„Ù…Ø§Ø°Ø§ ÙŠØ¬Ø¨ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¢Ù†ØŸ*\nâ€¢ Ø´Ø±ÙŠÙƒÙƒ Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚ ÙŠÙ†ØªØ¸Ø± ØªØ£ÙƒÙŠØ¯Ùƒ\nâ€¢ Ø§Ù„Ù…Ù‚Ø§Ø¹Ø¯ Ù…Ø­Ø¯ÙˆØ¯Ø© ÙˆÙ‚Ø¯ ØªÙØ¹Ø·Ù‰ Ù„Ø¢Ø®Ø±ÙŠÙ†\nâ€¢ Ù„Ø¶Ù…Ø§Ù† Ù…Ø´Ø§Ø±ÙƒØªÙƒ ÙÙŠ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©\nâ€¢ Ù„ØªØ¬Ù†Ø¨ Ø®Ø³Ø§Ø±Ø© Ù‡Ø°Ù‡ Ø§Ù„ÙØ±ØµØ© Ø§Ù„ÙØ±ÙŠØ¯Ø©\n\n*Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø³Ø±ÙŠØ¹Ø©:*\nâ€¢ STC Pay: 0560899666\nâ€¢ Ù…ØµØ±Ù Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ: Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù…Ù„Ùƒ\nâ€¢ IBAN:\nSA2480000588608016007502\n\nğŸ“¸ *Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„:*\nØ£Ø±Ø³Ù„ ØµÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØµØ§Ù„ ÙÙˆØ±Ø§Ù‹ Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ù„ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø²ÙƒÙ….\n\nğŸ“ *ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©:*\nØ§Ù„Ù…ÙƒØ§Ù†: ÙƒÙˆÙÙŠ Ø¨Ù„Ø§Ù†ÙŠØª - Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠ\nØ§Ù„Ø¹Ù†ÙˆØ§Ù†: https://maps.app.goo.gl/CYsyK9M5mxXMNo9YA\n\nğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: Ø§Ù„Ø®Ù…ÙŠØ³ 16 Ø£ÙƒØªÙˆØ¨Ø± 2025\nğŸ•°ï¸ Ø§Ù„ÙˆÙ‚Øª: 8:30 Ù…Ø³Ø§Ø¡Ù‹\nâ±ï¸ Ø§Ù„Ù…Ø¯Ø©: 60 Ø¯Ù‚ÙŠÙ‚Ø©\n\nğŸ“± *Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ:*\nØ±Ù‚Ù… Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ: *${assignedNumber}*\nØ§Ù„Ø±Ù…Ø² Ø§Ù„Ø®Ø§Øµ: *${secureToken}*\n\nğŸ”— Ø±Ø§Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ:\nhttps://match-omega.vercel.app/welcome?token=${secureToken}\n\nâš¡ *ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥ÙŠØµØ§Ù„ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª!*\n\nğŸ”¥ Ù„Ø§ ØªÙÙˆØª Ù‡Ø°Ù‡ Ø§Ù„ÙØ±ØµØ©!\n\nÙØ±ÙŠÙ‚ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø£Ø¹Ù…Ù‰`;

      default:
        return "";
    }
  }, [participant, isUrgent, templateType]);

  const handleCopy = () => {
    navigator.clipboard.writeText(message);
    setCopied(true);
    setTimeout(() => setCopied(false), 2000);
  };

  const handlePhoneCopy = () => {
    if (participant?.phone_number) {
      navigator.clipboard.writeText(participant.phone_number);
      setPhoneCopied(true);
      setTimeout(() => setPhoneCopied(false), 2000);
    }
  };

  const openWhatsApp = () => {
    if (!participant?.phone_number) {
      alert('âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ.');
      return;
    }
    
    const whatsappUrl = `https://wa.me/${participant.phone_number}`;
    window.open(whatsappUrl, '_blank');
  };

  if (!isOpen || !participant) return null;

  return (
    <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4">
      <div className="bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col">
        {/* Header */}
        <div className="flex items-center justify-between p-5 border-b border-slate-700">
          <h2 className="text-lg font-bold text-white">Ø±Ø³Ø§Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„Ù…Ø´Ø§Ø±Ùƒ #${participant.assigned_number}</h2>
          <button onClick={onClose} className="p-2 rounded-full hover:bg-slate-800 text-slate-400 hover:text-white">
            <X className="w-5 h-5" />
          </button>
        </div>

        {/* Content */}
        <div className="p-6 space-y-4 overflow-y-auto">
          {/* Phone Number Copy Field */}
          <div className="bg-slate-800 border border-slate-600 rounded-lg p-4">
            <div className="flex items-center justify-between">
              <div className="flex-1">
                <label className="text-sm font-medium text-slate-300 mb-2 block">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                <div className="text-lg font-mono text-white bg-slate-700 px-3 py-2 rounded border">
                  {participant?.phone_number || 'ØºÙŠØ± Ù…ØªÙˆÙØ±'}
                </div>
              </div>
              <Button
                onClick={handlePhoneCopy}
                disabled={!participant?.phone_number}
                className="ml-3 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2"
              >
                {phoneCopied ? <Check className="w-4 h-4 mr-1" /> : <Copy className="w-4 h-4 mr-1" />}
                {phoneCopied ? 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!' : 'Ù†Ø³Ø®'}
              </Button>
            </div>
          </div>

          {/* Template Selection */}
          <div className="bg-slate-800 border border-slate-600 rounded-lg p-4">
            <label className="text-sm font-medium text-slate-300 mb-3 block">Ù†ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</label>
            <div className="grid grid-cols-2 gap-2">
              <button
                onClick={() => setTemplateType('match')}
                className={`p-3 rounded-lg text-sm font-medium transition-colors ${
                  templateType === 'match' 
                    ? 'bg-green-600 text-white' 
                    : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                }`}
              >
                <MessageSquare className="w-4 h-4 mx-auto mb-1" />
                Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©
              </button>
              <button
                onClick={() => setTemplateType('event-info')}
                className={`p-3 rounded-lg text-sm font-medium transition-colors ${
                  templateType === 'event-info' 
                    ? 'bg-blue-600 text-white' 
                    : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                }`}
              >
                <Info className="w-4 h-4 mx-auto mb-1" />
                Ø´Ø±Ø­ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©
              </button>
              <button
                onClick={() => setTemplateType('faq-payment')}
                className={`p-3 rounded-lg text-sm font-medium transition-colors ${
                  templateType === 'faq-payment' 
                    ? 'bg-purple-600 text-white' 
                    : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                }`}
              >
                <HelpCircle className="w-4 h-4 mx-auto mb-1" />
                Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¯ÙØ¹
              </button>
              <button
                onClick={() => setTemplateType('faq-location')}
                className={`p-3 rounded-lg text-sm font-medium transition-colors ${
                  templateType === 'faq-location' 
                    ? 'bg-orange-600 text-white' 
                    : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                }`}
              >
                <HelpCircle className="w-4 h-4 mx-auto mb-1" />
                Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹
              </button>
              <button
                onClick={() => setTemplateType('faq-timing')}
                className={`p-3 rounded-lg text-sm font-medium transition-colors ${
                  templateType === 'faq-timing' 
                    ? 'bg-cyan-600 text-white' 
                    : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                }`}
              >
                <Clock className="w-4 h-4 mx-auto mb-1" />
                Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙˆÙ‚ÙŠØª
              </button>
              <button
                onClick={() => setTemplateType('reminder')}
                className={`p-3 rounded-lg text-sm font-medium transition-colors ${
                  templateType === 'reminder' 
                    ? 'bg-yellow-600 text-white' 
                    : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                }`}
              >
                <Clock className="w-4 h-4 mx-auto mb-1" />
                ØªØ°ÙƒÙŠØ± Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©
              </button>
              <button
                onClick={() => setTemplateType('payment-reminder')}
                className={`p-3 rounded-lg text-sm font-medium transition-colors ${
                  templateType === 'payment-reminder' 
                    ? 'bg-red-600 text-white' 
                    : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                }`}
              >
                <MessageSquare className="w-4 h-4 mx-auto mb-1" />
                ØªØ°ÙƒÙŠØ± Ø§Ù„Ø¯ÙØ¹
              </button>
            </div>
          </div>

          {/* Urgency Checkbox - Only for match template */}
          {templateType === 'match' && (
            <div className="bg-slate-800 border border-slate-600 rounded-lg p-4">
              <div className="flex items-center space-x-3 space-x-reverse">
                <Checkbox
                  id="urgent-checkbox"
                  checked={isUrgent}
                  onCheckedChange={(checked) => setIsUrgent(checked as boolean)}
                  className="data-[state=checked]:bg-red-600 data-[state=checked]:border-red-600"
                />
                <div className="flex-1">
                  <label 
                    htmlFor="urgent-checkbox" 
                    className="text-sm font-medium text-slate-200 cursor-pointer flex items-center"
                  >
                    <Clock className="w-4 h-4 ml-2 text-red-400" />
                    Ø±Ø³Ø§Ù„Ø© Ø¹Ø§Ø¬Ù„Ø© - ÙŠØ¬Ø¨ Ø§Ù„Ø±Ø¯ Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
                  </label>
                  <p className="text-xs text-slate-400 mt-1">
                    {isUrgent ? 
                      "ğŸš¨ Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø¹Ø§Ø¬Ù„Ø© Ø¬Ø¯Ø§Ù‹ Ù…Ø¹ Ù…Ù‡Ù„Ø© Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·" : 
                      "ğŸ“… Ø±Ø³Ø§Ù„Ø© Ø¹Ø§Ø¯ÙŠØ© Ù…Ø¹ Ù…Ù‡Ù„Ø© 24 Ø³Ø§Ø¹Ø© Ù„Ù„Ø±Ø¯"
                    }
                  </p>
                </div>
              </div>
            </div>
          )}

          <Textarea
            readOnly
            value={message}
            className="w-full h-80 bg-slate-800 border-slate-600 text-slate-200 text-sm resize-none focus:ring-blue-500 focus:border-blue-500"
            dir="rtl"
          />
        </div>

        {/* Footer */}
        <div className="flex flex-col sm:flex-row gap-3 p-5 border-t border-slate-700">
          <Button onClick={handleCopy} className="w-full bg-blue-600 hover:bg-blue-700 text-white">
            {copied ? <Check className="w-4 h-4 mr-2" /> : <Copy className="w-4 h-4 mr-2" />} 
            {copied ? 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!' : 'Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø©'}
          </Button>
          <Button onClick={openWhatsApp} className="w-full bg-green-600 hover:bg-green-700 text-white">
            <MessageSquare className="w-4 h-4 mr-2" />
            ÙØªØ­ ÙÙŠ ÙˆØ§ØªØ³Ø§Ø¨
          </Button>
        </div>
      </div>
    </div>
  );
}
